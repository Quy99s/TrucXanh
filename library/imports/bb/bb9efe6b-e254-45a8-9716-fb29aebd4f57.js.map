{"version":3,"sources":["../../../../../assets/trucxanh/script/assets/trucxanh/script/Symbol.js"],"names":["cc","Class","extends","Component","properties","staticSymbol","Node","label","Label","cover","symbols","default","type","SpriteFrame","onLoad","index","node","on","changeToSymbol","setIndex","resetSymbol","hiddenSymbol","disabledSymbol","enabledSymbol","flipShow","flipHide","showCover","onClick","evt","clickItemEvent","Event","EventCustom","setUserData","id","symbolID","dispatchEvent","runAction","sequence","scaleTo","callFunc","active","opacity","getSymbolID","num","string","i","delay","delayTime","fadeIn","asset","getComponent","Sprite","spriteFrame"],"mappings":"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","file":"Symbol.js","sourceRoot":"../../../../../assets/trucxanh/script","sourcesContent":["\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        staticSymbol: cc.Node,\n        label: cc.Label,\n        cover: cc.Node,\n        symbols: {\n            default: [],\n            type: cc.SpriteFrame,\n        },\n\n\n    },\n\n\n    onLoad() {\n        this.index = 0;\n\n        this.node.on(\"SET_ID\", this.changeToSymbol, this);\n        this.node.on(\"SET_INDEX\", this.setIndex, this);\n        this.node.on(\"RESET_SYMBOL\", this.resetSymbol, this);\n        this.node.on(\"HIDDEN_SYMBOL\", this.hiddenSymbol, this);\n        this.node.on(\"DISABLED_SYMBOL\", this.disabledSymbol, this);\n        this.node.on(\"ENABLED_SYMBOL\", this.enabledSymbol, this);\n        this.node.on(\"HIDDEN_COVER\", this.flipShow, this);\n        this.node.on(\"RESET_COVER\", this.flipHide, this);\n        this.node.on(\"SHOW_COVER\", this.showCover, this);\n\n    },\n\n    onClick(evt, index) {\n        this.clickItemEvent = new cc.Event.EventCustom('SYMBOL_HAS_CLICK', true);\n        this.clickItemEvent.setUserData({\n            id: this.symbolID,\n            index: this.index,\n        });\n        this.node.dispatchEvent(this.clickItemEvent);\n\n    },\n\n\n    flipShow() {\n        this.node.runAction(cc.sequence(\n            cc.scaleTo(0.2, 0, 1),\n            cc.callFunc(() => {\n                this.cover.active = false;\n            }),\n            cc.scaleTo(0.2, 1, 1)\n        ));\n\n    },\n\n\n    flipHide() {\n        this.node.runAction(cc.sequence(\n            cc.scaleTo(0.2, 0, 1),\n            cc.callFunc(() => {\n                this.cover.active = true;\n            }),\n            cc.scaleTo(0.2, 1, 1)\n        ));\n    },\n    showCover() {\n        this.cover.active = true;\n    },\n    hiddenSymbol() {\n        this.node.opacity = 0;\n    },\n\n    disabledSymbol() {\n        this.node.active = false;\n    },\n    enabledSymbol() {\n        this.node.active = true;\n    },\n\n    getSymbolID() {\n        return this.symbolID;\n    },\n    setIndex(num) {\n        this.label.string = num;\n        this.index = num;\n    },\n    resetSymbol(i) {\n        const delay = i * 0.1;\n        this.node.runAction(cc.sequence(\n            cc.delayTime(delay),\n            cc.fadeIn(0.1)\n        ));\n\n    },\n    changeToSymbol(symbolID) {\n        const asset = this.symbols[symbolID];\n        this.symbolID = symbolID;\n        this.staticSymbol.getComponent(cc.Sprite).spriteFrame = asset;\n\n    },\n\n});\n"]}